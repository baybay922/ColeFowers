<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<meta http-equiv="pragma" content="no-cache">
<meta http-equiv="cache-control" content="no-cache, must-revalidate">
<meta http-equiv="expires" content="0">
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<meta name="format-detection" content="telephone=no"/>
<meta name="msapplication-tap-highlight" content="no" />
<link rel="stylesheet" href="css/reset.css" type="text/css">
<link rel="stylesheet" href="css/Assessment.css" type="text/css">
<link rel="stylesheet" href="css/DetailsCeclaration.css">
<!-- <script data-main="js/online.js" src="js/lib/require.js"></script> -->
<!--仿IOS城市三级联动 star-->
<link rel="stylesheet" type="text/css" href="./src/mobile-select-area.css">
<script type="text/javascript" src="./js/lib/jquery-1.11.0.min.js"></script>
<script type="text/javascript" src="./src/dialog.js"></script>
<script type="text/javascript" src="./src/mobile-select-area.js"></script>
<!--仿IOS城市三级联动 end-->
<script type="text/javascript">
//rem自适应字体大小方法
var docEl = document.documentElement,
resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize',
recalc = function() {
    //设置根字体大小
    docEl.style.fontSize = 10 * (docEl.clientWidth / 320) + 'px';
};
//绑定浏览器缩放与加载时间
window.addEventListener(resizeEvt, recalc, false);
document.addEventListener('DOMContentLoaded', recalc, false);
</script>
<title>人工评估</title>
</head>
<body>
	<div class="onLinetitle">
		<p>基础信息</p>
	</div>
	<div class="onLineBox">
		<p style="border-top:1px #E6E6E6 solid;">
			<span>房本信息</span>
			<select id="houseinfor">
			    <option>请选择有无房本</option>
			    <option>有房本</option>
			    <option>无房本</option> 
			</select>
			<img class="houseinforImg" src="./images/icon/online_01.jpg" />
		</p>
		<p>
			<span>城市/区县</span><input type="text" id="city" placeholder="请选择城市"/><img class="cityImg" src="./images/icon/online_01.jpg" />
		</p>
		<p>
			<span>地址</span><input type="text" id="address" placeholder="请输入小区名称／地址"/><img class="addressImg" src="./images/icon/online_03.jpg" />
		</p>
		
		<p>
			<span>楼牌号</span><input type="text" id="floornum" placeholder="请输入小区楼牌号"/><img class="floornumImg" src="./images/icon/online_03.jpg" />
		</p>
	
		<p>
			<span>建筑面积</span><input type="text" id="architecture" placeholder="请输入建筑面积"/><img class="architectureImg" src="./images/icon/online_03.jpg" />
		</p>
		<p>
			<span>房产性质</span>
			<select id="house">
			    <option>请选择房产性质</option>
			    <option>住宅</option>
			    <option>公寓商住</option> 
			    <option>成本房价</option>
			    <option>别墅</option> 
			    <option>按经济适用房管理</option>
			    <option>回迁房</option> 
			    <option>商业房（实际用途居住）</option>
			</select>
			<img class="houseImg" src="./images/icon/online_01.jpg" />
		</p>
		<p>
			<span>规划用途</span>
			<select id="plan">
			    <option>请选择规划用途</option>
			    <option>住宅</option>
			    <option>公寓</option> 
			    <option>别墅</option>
			    <option>办公</option>
			    <option>商住两用</option>
			    <option>商业</option>
			    <option>宿舍</option>     
			</select>
			<img class="planImg" src="./images/icon/online_01.jpg" />
		</p>
	</div>
	<div class="onLinetitle" style="margin-top:.5rem;">
		<p>备注（选填）</p>
	</div>
	<div class="pingGubox">
		<textarea class="t_area" cols=30 rows=6  onfocus="if(value=='可输入平层、loft、联排、独栋等') {value=''}" onblur="if(value=='') {value='可输入平层、loft、联排、独栋等'}">可输入平层、loft、联排、独栋等</textarea>
	</div>
	<div class="onLinetitle" style="margin-top:.5rem;">
		<p>上传照片</p>
	</div>
	<div class="uploadBox" style="margin-bottom:8rem;display:inline-block;">
		<ul class="imgBox" id="imgBox" style="margin:2rem auto 1rem;">
			<li>
				<label for="first"></label> 
				<input type="file" id="first" onchange="upload.getImgURL(this,$(this));" />
				<div class="Deposit"></div>
			</li>
			<li>
				<label for="Second"></label> 
				<input type="file" id="Second" onchange="upload.getImgURL(this,$(this));" />
				<div class="Deposit"></div>
			</li>
			<li>
				<label for="Third"></label> 
				<input type="file" id="Third" onchange="upload.getImgURL(this,$(this));" />
				<div class="Deposit"></div>
			</li>
			<li>
				<label for="Fourth"></label> 
				<input type="file" id="Fourth" onchange="upload.getImgURL(this,$(this));" />
				<div class="Deposit"></div>
			</li>
			<li>
				<label for="Fifth"></label> 
				<input type="file" id="Fifth" onchange="upload.getImgURL(this,$(this));" />
				<div class="Deposit"></div>
			</li>
			<li>
				<label for="Sixth"></label> 
				<input type="file" id="Sixth" onchange="upload.getImgURL(this,$(this));" />
				<div class="Deposit"></div>
			</li>
		</ul>
	</div>
	<style>
		.s_btn{width:100%; height:auto; background:#fff; position:fixed; bottom:0px;}
		.onLineBtnle ,.onLineBtnri{width:50%; height:3rem; font-size:1.2rem; color:#fff; float:left;}
		.onLineBtnle{background:#ff5e62;}
		.onLineBtnri{background:#FFD53F;}
		.picBox{width:80%; height:auto; text-align:center; margin:0 auto; position:fixed;}
		.picBox img{width:20rem;}
	</style>
	<div class="s_btn">
		<button class="onLineBtnle">开始评估</button>
		<button class="onLineBtnri">开始评估</button>
	</div>

	<div class="Maskbox"></div>
	<div class="tipsBox">
		<p class="tipsTitle"><img src="./images/icon/false.png" />在线房产评估</p>
		<p id="tips">恭喜！您的银行卡绑定成功</p>
		<button class="Determine">确定</button>
	</div>
	<div class="picBox">
		<img src="./images/comingSoon.png" />
	</div>
		<script>
			var json =[{
					"id": 1,
					"name": "浙江省",
					"child": [{
						"id": "1",
						"name": "杭州市",
						"child": [{
							"id": 1,
							"name": "滨江区"
						}, {
							"id": 2,
							"name": "西湖区"
						}, {
							"id": 2,
							"name": "余杭区"
						}, {
							"id": 2,
							"name": "留下区"
						}]
					}, {
						"id": "2",
						"name": "宁波市",
						"child": []
					}, {
						"id": "3",
						"name": "温州市",
						"child": []
					}]
				}, {
					"id": 2,
					"name": "江苏省",
					"child": [{
						"id": "1",
						"name": "南京",
						"child": [{
							"id": 1,
							"name": "解放区"
						}]
					}]
				}, {
					"id": 3,
					"name": "湖北省"
			}];
		</script>
		<script>
			//城市三级联动调用
			var selectArea = new MobileSelectArea();
			selectArea.init({trigger:'#city',data:json,default:0,position:"bottom"});

			//获取、失去焦点的图片切换
			$("#city").focus(function(){
			   $(".cityImg").attr("src","images/icon/online_02.jpg");  
			});
			$("#city").blur(function(){
			   $(".cityImg").attr("src","images/icon/online_01.jpg");  
			});

			$("#address").focus(function(){
			   $(".addressImg").attr("src","images/icon/online_04.jpg");  
			});
			$("#address").blur(function(){
			   $(".addressImg").attr("src","images/icon/online_03.jpg");  
			});

			$("#floornum").focus(function(){
			   $(".floornumImg").attr("src","images/icon/online_04.jpg");  
			});
			$("#floornum").blur(function(){
			   $(".floornumImg").attr("src","images/icon/online_03.jpg");  
			});
			
			$("#architecture").focus(function(){
			   $(".architectureImg").attr("src","images/icon/online_04.jpg");  
			});
			$("#architecture").blur(function(){
			   $(".architectureImg").attr("src","images/icon/online_03.jpg");  
			});

			$("#house").focus(function(){
			   $(".houseImg").attr("src","images/icon/online_02.jpg");   
			});
			$("#house").blur(function(){
			   $(".houseImg").attr("src","images/icon/online_01.jpg");  
			});

			$("#plan").focus(function(){
			   $(".planImg").attr("src","images/icon/online_02.jpg");   
			});
			$("#plan").blur(function(){
			   $(".planImg").attr("src","images/icon/online_01.jpg");  
			});

			$("#houseinfor").focus(function(){
			   $(".houseinforImg").attr("src","images/icon/online_02.jpg");   
			});
			$("#houseinfor").blur(function(){
			   $(".houseinforImg").attr("src","images/icon/online_01.jpg");  
			});

			
			//在线房产评估非空验证
				function Maskbox(){
					var Top = document.documentElement.clientHeight/2-(parseInt($(".tipsBox").height())/2) +'px',
						Left = document.documentElement.clientWidth/2-(parseInt($(".tipsBox").width()))/2 +'px';
						
						$('.Maskbox').fadeIn(300);
						$('.tipsBox').css("top",Top);
						$('.tipsBox').css("left",Left);
						$('.tipsBox').slideDown(500);
				}
				function picBox(){
					var Top2 = document.documentElement.clientHeight/2-(parseInt($(".picBox").height())/2) +'px',
						Left2 = document.documentElement.clientWidth/2-(parseInt($(".picBox").width()))/2 +'px';
						$('.Maskbox').fadeIn();
						$('.picBox').css("top",Top2);
						$('.picBox').css("left",Left2);
						$('.picBox').slideDown();
				}

				$(".Determine").click(function(){
					$('.Maskbox').fadeOut(500);
					$('.tipsBox').slideUp(200);
					$('.picBox').slideUp(200);
				})
				$(".Maskbox").click(function(){
					$('.Maskbox').fadeOut(500);
					$('.tipsBox').slideUp(200);
					$('.picBox').slideUp(200);
				})

				function hide(){
					$('.Maskbox').fadeOut();
					$('.picBox').slideUp();
				}

				$(".onLineBtnri").on("click",function(){
					picBox();
				})
				window.setInterval("hide()", 2500);

				//在线房产评估的非空验证
				$(".onLineBtn").on("click",function(){
					var	city = $("#city").val(),
					    houseinfor = $("#houseinfor").val(),
						address = $("#address").val(),
						floornum = $("#floornum").val(),
						architecture = $("#architecture").val(),
						house = $("#house").val(),
						plan = $("#plan").val();
		 
					if(houseinfor == "请选择有无房本"){
						Maskbox();
						$("#tips").text("请选择有无房本");
					}else if(city == ""){
						Maskbox();
						$("#tips").text("请选择城市");
					}else if(address == ""){
						Maskbox();
						$("#tips").text("请输入小区名称／地址");
					}else if(floornum == ""){
						Maskbox();
						$("#tips").text("请输入小区楼牌号");
					}else if(architecture == ""){
						Maskbox();
						$("#tips").text("请输入建筑面积");
					}else if(house == "请选择房产性质"){
						Maskbox();
						$("#tips").text("请选择房产性质");
					}else if(plan== "请选择规划用途"){
						Maskbox();
						$("#tips").text("请选择规划用途");
					}else{
						 window.location.href="https://www.baidu.com/";   
					}
				})

				//上传图片
				var imgURL = "";			
				$(".Deposit").on("click","p",function(){
					upload.delectImgBox($(this));
				});
				
				function Upload(){
					var self = this;
					self.creatImg = function(imgRUL, $this){
						var textHtml = "<img src='"+imgRUL+"'/><p class='close' id='close'>×</p>";
						$this.next("div.Deposit").css({
							"z-index":1
						}).html(textHtml)
					},
					self.delectImgBox = function($this){
						alert("11")
						$this.parents("li").find("input").val("");
						$this.parent("div.Deposit").css({
							"z-index":-1
						}).html("");
						
					},
					self.getImgURL = function(node,$this) {   
					    try{     
					        var file = null;  
					        if(node.files && node.files[0] ){  
					            file = node.files[0];   
					        }else if(node.files && node.files.item(0)) {                                  
					            file = node.files.item(0);     
					        }     
					        //Firefox 因安全性问题已无法直接通过input[file].value 获取完整的文件路径  
					        try{  
					            //Firefox7.0   
					            imgURL =  file.getAsDataURL();    
					            //alert("//Firefox7.0"+imgRUL);                           
					        }catch(e){  
					            //Firefox8.0以上                                
					            imgRUL = window.URL.createObjectURL(file);  
					            //alert("//Firefox8.0以上"+imgRUL);  
					        }  
					     }catch(e){      //这里不知道怎么处理了，如果是遨游的话会报这个异常                   
					        //支持html5的浏览器,比如高版本的firefox、chrome、ie10  
					        if (node.files && node.files[0]) {                            
					            var reader = new FileReader();   
					            reader.onload = function (e) {                                        
					                imgURL = e.target.result;    
					            };  
					            reader.readAsDataURL(node.files[0]);   
					        }    
					     } 
					     
					    upload.creatImg(imgRUL,$this);  
					    return imgURL;
					} 				
				}
				var upload = new Upload();
				
		</script>
</body>
</html>
